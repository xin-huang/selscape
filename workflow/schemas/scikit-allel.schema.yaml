$schema: "http://json-schema.org/draft-06/schema#"
description: "scikit-allel analysis configuration"

type: object
additionalProperties: false

properties:
  wp_stats:
    type: array
    items:
      type: string
      enum: ["moving_tajima_d", "windowed_tajima_d"]
    minItems: 1
    description: "Within-population (wp) statistics to compute"

  xp_stats:
    type: ["array", "null"]
    items:
      type: string
      enum: ["delta_moving_tajima_d"]
    description: "Cross-population (xp) statistics to compute"


  wtjd_window_sizes:
    type: array
    items:
      type: integer
    description: "Window sizes in base pairs for windowed tajima's d (wtjd) statistic"

  wtjd_step_size_ratios:
    type: array
    items:
      type: number
      minimum: 0.0
      maximum: 1.0
    description: "Step size as fraction of window in base pair for wtjd statistic"

  mtjd_window_sizes:
    type: array
    items:
      type: integer
    description: "Window sizes in SNPs for moving tajima's d (mtjd) statistic"

  mtjd_step_size_ratios:
    type: array
    items:
      type: number
      minimum: 0.0
      maximum: 1.0
    description: "Step size as fraction of window in SNPs for mtjd statistis"

  dtjd_window_sizes:
    type: array
    items:
      type: integer
    description: "Window sizes in SNPs for xp moving delta tajima's d (dtjd) statistic"

  dtjd_step_size_ratios:
    type: array
    items:
      type: number
      minimum: 0.0
      maximum: 1.0
    description: "Step size as fraction of window in SNPs for cross population dtjd statistic"

  top_proportion:
    type: number
    minimum: 0.0
    maximum: 1.0
    default: 0.0005
    description: "Top proportion for outlier identification"

  manhattan_plot_width:
    type: integer
    minimum: 100
    default: 640

  manhattan_plot_height:
    type: integer
    minimum: 100
    default: 240

  manhattan_plot_color1:
    type: string
    pattern: "^#[0-9A-Fa-f]{6}$"
    default: "#56B4E9"

  manhattan_plot_color2:
    type: string
    pattern: "^#[0-9A-Fa-f]{6}$"
    default: "#F0E442"

required:
  - wtjd_window_sizes
  - wtjd_step_size_ratios
  - mtjd_window_sizes
  - mtjd_step_size_ratios
  - dtjd_window_sizes
  - dtjd_step_size_ratios
  - top_proportion
